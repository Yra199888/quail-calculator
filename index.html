<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>üê£ –§–µ—Ä–º–µ—Ä—Å—å–∫–∏–π —Ç—Ä–µ–∫–µ—Ä</title>
  <link rel="stylesheet" href="./style.css" />
</head>

<body>
  <div class="app">

    <!-- üß≠ –ù–ê–í–Ü–ì–ê–¶–Ü–Ø -->
    <header class="app-header">
      <nav class="nav">
        <div id="firebase-status" class="firebase-status offline">üî¥ Offline</div>
        <button class="nav-btn active" data-page="eggs">ü•ö –Ø–π—Ü—è</button>
        <button class="nav-btn" data-page="feed">üåæ –ö–æ—Ä–º</button>
        <button class="nav-btn" data-page="warehouse">üì¶ –°–∫–ª–∞–¥</button>
        <button class="nav-btn" data-page="orders">üìë –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è</button>
        <button class="nav-btn" data-page="recipes">üìã –†–µ—Ü–µ–ø—Ç–∏</button>
      </nav>
    </header>

    <!-- üì¶ –û–°–ù–û–í–ù–ò–ô –ö–û–ù–¢–ï–ù–¢ -->
    <main class="app-content">

      <!-- ü•ö –Ø–ô–¶–Ø -->
      <section class="page active" id="page-eggs">
        <div class="panel">
          <div class="panel-title">ü•ö –û–±–ª—ñ–∫ —è—î—Ü—å</div>

          <form id="eggs-form">
            <div class="form-row">
              <div>
                <label>–î–∞—Ç–∞</label>
                <input type="date" id="eggs-date" />
              </div>
              <div>
                <label>–•–æ—Ä–æ—à—ñ</label>
                <input type="number" id="eggs-good" />
              </div>
              <div>
                <label>–ë—Ä–∞–∫</label>
                <input type="number" id="eggs-bad" />
              </div>
              <div>
                <label>–î–æ–º–∞—à–Ω—ñ</label>
                <input type="number" id="eggs-home" />
              </div>
            </div>

            <button type="button" class="primary" id="eggs-save-btn">
              üíæ –ó–±–µ—Ä–µ–≥—Ç–∏
            </button>
          </form>
        </div>

        <div id="eggs-report"></div>
      </section>

      <!-- üåæ –ö–û–†–ú -->
      <section class="page" id="page-feed">
        <div class="panel">
          <div class="panel-title">üåæ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∫–æ—Ä–º—É</div>

          <table class="feed-table">
            <thead>
              <tr>
                <th>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç</th>
                <th>–ö-—Å—Ç—å</th>
                <th>–¶—ñ–Ω–∞</th>
                <th>–°—É–º–∞</th>
              </tr>
            </thead>
            <tbody id="feedTable"></tbody>
          </table>

          <div class="form-row">
            <label>–û–± º—î–º (–∫–≥)</label>
            <input type="number" id="feedVolume" />
          </div>

          <div class="feed-summary">
            <p>–ó–∞–≥–∞–ª—å–Ω–∞ —Å—É–º–∞: <b id="feedTotal">0</b> –≥—Ä–Ω</p>
            <p>–¶—ñ–Ω–∞ –∑–∞ –∫–≥: <b id="feedPerKg">0</b> –≥—Ä–Ω</p>
            <p>–°—É–º–∞ –∑–∞ –æ–± º—î–º: <b id="feedVolumeTotal">0</b> –≥—Ä–Ω</p>
          </div>

          <div id="feedActions"></div>
        </div>

        <div id="feedComponentsControls">
          <button id="addFeedComponentBtn">‚ûï –î–æ–¥–∞—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç</button>
          <button id="restoreFeedComponentsBtn">‚Ü© –í—ñ–¥–Ω–æ–≤–∏—Ç–∏ –≤–∏–¥–∞–ª–µ–Ω—ñ</button>
        </div>
      </section>

      <!-- üì¶ –°–ö–õ–ê–î -->
      <section class="page" id="page-warehouse">
        <div class="panel">
          <div class="panel-title">üì¶ –°–∫–ª–∞–¥</div>

          <div id="warehouseFeedCards"></div>

          <table class="feed-table">
            <thead>
              <tr>
                <th>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç</th>
                <th>–ó–∞–ª–∏—à–æ–∫</th>
                <th>–î–æ–¥–∞—Ç–∏</th>
                <th>–°–ø–∏—Å–∞—Ç–∏</th>
              </tr>
            </thead>
            <tbody id="warehouseFeedTableBody"></tbody>
          </table>

          <div class="warehouse-trays">
            <p>–ü–æ—Ä–æ–∂–Ω—ñ –ª–æ—Ç–∫–∏: <b id="emptyTraysValue">0</b></p>
            <input type="number" id="addEmptyTraysInput" placeholder="+ –ª–æ—Ç–∫–∏" />
            <button id="addEmptyTraysBtn">‚ûï</button>
          </div>

          <div id="warehouseWarnings"></div>
        </div>

        <div class="panel" id="warehouseLogsPanel">
          <div class="panel-title">üßæ –ñ—É—Ä–Ω–∞–ª —Å–∫–ª–∞–¥—É</div>
          <div class="log-filters">
            <select id="logFilterCategory">
              <option value="">–£—Å—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó</option>
              <option value="feed">–ö–æ—Ä–º</option>
              <option value="warehouse">–°–∫–ª–∞–¥</option>
              <option value="orders">–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è</option>
            </select>

            <select id="logFilterAction">
              <option value="">–£—Å—ñ –¥—ñ—ó</option>
              <option value="add">–î–æ–¥–∞–≤–∞–Ω–Ω—è</option>
              <option value="consume">–°–ø–∏—Å–∞–Ω–Ω—è</option>
              <option value="mix">–ó–º—ñ—à—É–≤–∞–Ω–Ω—è</option>
              <option value="reserve">–ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è</option>
            </select>
          </div>

          <div id="warehouseLogs"></div>
        </div>
      </section>

      <!-- üìë –ó–ê–ú–û–í–õ–ï–ù–ù–Ø -->
      <section class="page" id="page-orders">
        <div class="panel">
          <div class="panel-title">üìë –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è</div>
          <table class="feed-table">
            <thead>
              <tr>
                <th>–î–∞—Ç–∞</th>
                <th>–ö–ª—ñ—î–Ω—Ç</th>
                <th>–õ–æ—Ç–∫–∏</th>
                <th>–ü—Ä–∏–º—ñ—Ç–∫–∞</th>
              </tr>
            </thead>
            <tbody id="ordersTableBody"></tbody>
          </table>
        </div>

        <div class="panel">
          <div class="panel-title">‚ûï –ù–æ–≤–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</div>
          <div class="form-row">
            <div>
              <label>–î–∞—Ç–∞</label>
              <input type="date" id="order-date">
            </div>
            <div>
              <label>–ö–ª—ñ—î–Ω—Ç</label>
              <input type="text" id="order-client">
            </div>
          </div>

          <div class="form-row">
            <div>
              <label>–õ–æ—Ç–∫–∏</label>
              <input type="number" id="order-trays" min="1">
            </div>
            <div>
              <label>–ü—Ä–∏–º—ñ—Ç–∫–∞</label>
              <input type="text" id="order-details">
            </div>
          </div>

          <button class="primary" id="order-add-btn">‚ûï –î–æ–¥–∞—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</button>
        </div>
      </section>

      <!-- üìã –†–ï–¶–ï–ü–¢–ò -->
      <section class="page" id="page-recipes">
        <div class="panel">
          <div class="panel-title">üìã –†–µ—Ü–µ–ø—Ç–∏ –∫–æ—Ä–º—É</div>

          <div class="form-row">
            <input id="recipe-name" placeholder="–ù–∞–∑–≤–∞ —Ä–µ—Ü–µ–ø—Ç—É" />
            <button class="primary" id="recipe-save-btn">üíæ –ó–±–µ—Ä–µ–≥—Ç–∏</button>
          </div>

          <div class="form-row">
            <select id="recipe-select"></select>
            <button id="recipe-load-btn">üìÇ –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏</button>
            <button class="danger" id="recipe-delete-btn">üóë –í–∏–¥–∞–ª–∏—Ç–∏</button>
          </div>
        </div>

        <div id="recipes-content"></div>
      </section>

    </main>
  </div>

  <!-- =========================
       üì¶ MODAL: ADD / CONSUME FEED
       ========================= -->
  <div id="qtyModal" class="modal hidden">
    <div class="modal-backdrop"></div>

    <div class="modal-card">
      <div class="modal-head">
        <div class="modal-title" id="modalTitle">–ö–æ–º–ø–æ–Ω–µ–Ω—Ç</div>
        <button class="modal-x" id="modalCloseBtn">‚úï</button>
      </div>

      <div class="modal-body">
        <div class="modal-subtitle" id="modalStock">
          –ü–æ—Ç–æ—á–Ω–∏–π –∑–∞–ª–∏—à–æ–∫: 0 –∫–≥
        </div>

        <div class="modal-tabs">
          <button class="tab active" data-action="add">‚ûï –î–æ–¥–∞—Ç–∏</button>
          <button class="tab" data-action="consume">‚ûñ –°–ø–∏—Å–∞—Ç–∏</button>
        </div>

        <label class="modal-label">–ö—ñ–ª—å–∫—ñ—Å—Ç—å (–∫–≥)</label>
        <input
          type="number"
          step="0.1"
          min="0"
          class="modal-input"
          id="modalAmount"
        />
      </div>

      <div class="modal-actions">
        <button class="btn ghost" id="modalCancelBtn">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
        <button class="btn primary" id="modalConfirmBtn">OK</button>
      </div>
    </div>
  </div>

  <script type="module" src="./app.js"></script>
</body>
</html>