<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quail Calculator ‚Äî PRO MODE</title>

    <!-- PWA -->
    <link rel="manifest" href="manifest.webmanifest">

    <!-- Material 3 Styles -->
    <link rel="stylesheet" href="material.css">

    <style>
        body {
            margin: 0;
            background: #f5f5f5;
            font-family: Arial, sans-serif;
        }

        /* ============ NAVIGATION ============ */
        .tabs {
            display: flex;
            background: #e9e9e9;
            border-bottom: 1px solid #ccc;
        }
        .tab {
            flex: 1;
            padding: 14px;
            text-align: center;
            cursor: pointer;
            font-weight: 600;
        }
        .tab.active {
            background: #d0f0c0;
        }

        /* ============ CARDS ============ */
        .card {
            background: white;
            padding: 16px;
            margin: 12px;
            border-radius: 12px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .section { display: none; }
        .section.active { display: block; }
    </style>
</head>
<body>

<!-- ============================================================
      üî• PRO MODE BAR + STATUS
============================================================ -->
<div class="card" style="background:#225c1f; color:white;">
    <h2>üî• PRO MODE –ê–∫—Ç–∏–≤–Ω–∏–π</h2>
    <p id="statusBar">–°—Ç–∞—Ç—É—Å: offline</p>

    <button id="saveLocal">üíæ –ó–±–µ—Ä–µ–≥—Ç–∏ –ª–æ–∫–∞–ª—å–Ω–æ</button>
    <button id="backupDrive">‚òÅ –†–µ–∑–µ—Ä–≤–Ω–∞ –∫–æ–ø—ñ—è Drive</button>
    <button id="restoreDrive">üîÑ –í—ñ–¥–Ω–æ–≤–∏—Ç–∏ —ñ–∑ Drive</button>
</div>

<!-- ============================================================
      üìå –ù–ê–í–Ü–ì–ê–¶–Ü–Ø
============================================================ -->
<div class="tabs">
    <div class="tab active" onclick="showPage('feed')">–ö–æ—Ä–º</div>
    <div class="tab" onclick="showPage('eggs')">–Ø–π—Ü—è</div>
    <div class="tab" onclick="showPage('orders')">–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è</div>
    <div class="tab" onclick="showPage('clients')">–ö–ª—ñ—î–Ω—Ç–∏</div>
    <div class="tab" onclick="showPage('finance')">–§—ñ–Ω–∞–Ω—Å–∏</div>
    <div class="tab" onclick="showPage('incub')">–Ü–Ω–∫—É–±–∞—Ü—ñ—è</div>
</div>

<!-- ============================================================
      üü© 1. –ö–û–ú–ë–Ü–ö–û–†–ú ‚Äî –ù–û–í–ê –°–ï–ö–¶–Ü–Ø (–¢–û–ß–ù–û –ü–Ü–î feed.js)
============================================================ -->
<div id="feed" class="section active">

    <div id="feed" class="section-page" style="display:block;">
  <div class="m3-card">
    <h2>1. –†–µ—Ü–µ–ø—Ç –∫–æ–º–±—ñ–∫–æ—Ä–º—É (—Ç–≤—ñ–π –ø–æ—Å—Ç—ñ–π–Ω–∏–π)</h2>

    <label for="feedBatchKg">–ë–∞–∂–∞–Ω–∞ –≤–∞–≥–∞ –ø–∞—Ä—Ç—ñ—ó (–∫–≥)</label>
    <input type="number" id="feedBatchKg" value="25" oninput="recalcFeedRecipe()">

    <table class="m3-table">
      <thead>
        <tr>
          <th>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç</th>
          <th>–ö-—Å—Ç—å (–∫–≥)</th>
          <th>–¶—ñ–Ω–∞ –∑–∞ –∫–≥</th>
          <th>–°—É–º–∞</th>
        </tr>
      </thead>
      <tbody id="feedRecipeBody"></tbody>
    </table>

    <p>–í–∞–≥–∞ –ø–∞—Ä—Ç—ñ—ó: <span id="feedBatchTotalKg">0</span> –∫–≥</p>
    <p>–°–æ–±—ñ–≤–∞—Ä—Ç—ñ—Å—Ç—å 1 –∫–≥: <span id="feedCostPerKg">0.00</span> –≥—Ä–Ω</p>
    <p>–ó–∞–≥–∞–ª—å–Ω–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å: <span id="feedTotalCost">0.00</span> –≥—Ä–Ω</p>
  </div>

  <!-- –¥–∞–ª—ñ –º–æ–∂—É—Ç—å –π—Ç–∏ —Ç–≤–æ—ó –±–ª–æ–∫–∏ 2. –ó–∞–ø–∞—Å–∏, 3. –ì–æ—Ç–æ–≤–∏–π –∫–æ—Ä–º —ñ —Ç.–¥. -->
</div>

    <div class="card">
        <h2>2. –ó–∞–ø–∞—Å–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤</h2>
        <table class="m3-table">
            <thead>
                <tr><th>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç</th><th>–Ñ</th><th>–ü–æ—Ç—Ä—ñ–±–Ω–æ</th><th>–°—Ç–∞—Ç—É—Å</th></tr>
            </thead>
            <tbody id="stockRows"></tbody>
        </table>
    </div>

    <div class="card">
        <h2>3. –ì–æ—Ç–æ–≤–∏–π –∫–æ—Ä–º</h2>
        <p>–ì–æ—Ç–æ–≤–æ: <span id="feedReady">0</span> –∫–≥</p>

        <label>–í–∏–≥–æ—Ç–æ–≤–∏—Ç–∏ –ø–∞—Ä—Ç—ñ—é (–∫–≥):</label>
        <input id="produceKg" type="number" value="25">

        <button id="btnProduce">üîß –í–∏–≥–æ—Ç–æ–≤–∏—Ç–∏ –ø–∞—Ä—Ç—ñ—é</button>
        <button id="btnConsume">üçΩÔ∏è –°–ø–∏—Å–∞—Ç–∏ –¥–æ–±–æ–≤—É –Ω–æ—Ä–º—É</button>

        <p>–ó–∞–ª–∏—à–æ–∫: <span id="feedRemain">0</span> –∫–≥</p>
        <p>–•–≤–∞—Ç–∏—Ç—å –Ω–∞: <span id="feedDaysLeft">0</span> –¥–Ω—ñ–≤</p>
    </div>
</div>

<!-- ============================================================
      2. –Ø–ô–¶–Ø
============================================================ -->
<div id="eggs" class="section">

    <div class="card">
        <h2>2. –û–±–ª—ñ–∫ —è—î—Ü—å</h2>
        <label>–ó—ñ–±—Ä–∞–Ω–æ:</label> <input id="eggsTotal" type="number">
        <label>–ë—Ä–∞–∫:</label> <input id="eggsBad" type="number">
        <label>–ù–∞ —Å–µ–±–µ:</label> <input id="eggsOwn" type="number">
        <label>–ó–∞–ª–∏—à–æ–∫ —É—á–æ—Ä–∞:</label> <input id="eggsCarry" type="number">

        <h3>–ü—ñ–¥—Å—É–º–æ–∫</h3>
        <table class="m3-table">
            <tr><td>–î–ª—è –ø—Ä–æ–¥–∞–∂—É</td><td><span id="eggsForSale"></span></td></tr>
            <tr><td>–í—Å—å–æ–≥–æ</td><td><span id="eggsForSaleTotal"></span></td></tr>
            <tr><td>–õ–æ—Ç–∫—ñ–≤</td><td><span id="traysCount"></span></td></tr>
            <tr><td>–ó–∞–ª–∏—à–æ–∫</td><td><span id="eggsRemainder"></span></td></tr>
        </table>
    </div>
</div>

<!-- ============================================================
      3. –ó–ê–ú–û–í–õ–ï–ù–ù–Ø
============================================================ -->
<div id="orders" class="section">

    <div class="card">
        <h2>–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è</h2>

        <label>–ö–ª—ñ—î–Ω—Ç</label> <input id="ordName">
        <label>–õ–æ—Ç–∫—ñ–≤</label> <input id="ordTrays" type="number">
        <label>–î–∞—Ç–∞</label> <input id="ordDate" type="date">

        <button onclick="addOrder()">–î–æ–¥–∞—Ç–∏</button>

        <h3>–ê–∫—Ç–∏–≤–Ω—ñ</h3>
        <table class="m3-table"><tbody id="ordersActive"></tbody></table>

        <h3>–í–∏–∫–æ–Ω–∞–Ω—ñ</h3>
        <table class="m3-table"><tbody id="ordersDone"></tbody></table>
    </div>
</div>

<!-- ============================================================
      4. –ö–õ–Ü–Ñ–ù–¢–ò
============================================================ -->
<div id="clients" class="section">
    <div class="card">
        <h2>–ö–ª—ñ—î–Ω—Ç–∏</h2>
        <table class="m3-table">
            <thead>
                <tr><th>–ö–ª—ñ—î–Ω—Ç</th><th>–ó–∞–º–æ–≤–ª–µ–Ω—å</th><th>–õ–æ—Ç–∫—ñ–≤</th><th>–Ø—î—Ü—å</th><th>–°—É–º–∞</th></tr>
            </thead>
            <tbody id="clientsBody"></tbody>
        </table>
    </div>
</div>

<!-- ============================================================
      5. –§–Ü–ù–ê–ù–°–ò
============================================================ -->
<div id="finance" class="section">
    <div class="card">
        <h2>–§—ñ–Ω–∞–Ω—Å–∏</h2>
        <p>–°–∫–æ—Ä–æ‚Ä¶</p>
    </div>
</div>

<!-- ============================================================
      6. –Ü–ù–ö–£–ë–ê–¶–Ü–Ø
============================================================ -->
<div id="incub" class="section">
    <div class="card">
        <h2>–Ü–Ω–∫—É–±–∞—Ü—ñ—è</h2>
        <p>–°–∫–æ—Ä–æ‚Ä¶</p>
    </div>
</div>

<!-- ============================================================
      SCRIPT IMPORTS (–í–ê–ñ–õ–ò–í–û!)
============================================================ -->

<!-- CORE -->
<script type="module" src="core/data.js"></script>
<script type="module" src="core/storage.js"></script>
<script type="module" src="core/sync.js"></script>
<script type="module" src="core/drive.js"></script>
<script type="module" src="core/pwa.js"></script>

<!-- MODULES -->
<script type="module" src="modules/feed.js"></script>
<script type="module" src="modules/eggs.js"></script>
<script type="module" src="modules/orders.js"></script>
<script type="module" src="modules/clients.js"></script>
<script type="module" src="modules/finance.js"></script>
<script type="module" src="modules/incub.js"></script>
<script type="module" src="modules/flock.js"></script>
<script type="module" src="modules/logs.js"></script>
<script type="module" src="modules/render.js"></script>

<script>
function showPage(id){
    document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
    document.getElementById(id).classList.add('active');

    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
    event.target.classList.add('active');
}
</script>

</body>
</html>