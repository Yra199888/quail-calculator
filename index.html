<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quail Calculator ‚Äî PRO MODE</title>

    <!-- PWA -->
    <link rel="manifest" href="manifest.webmanifest">

    <link rel="stylesheet" href="material.css">

    <style>
        .tabs { display:flex; border-bottom:1px solid #ccc; }
        .tab { padding:12px; flex:1; text-align:center; cursor:pointer; }
        .tab.active { background:#d5f4c2; font-weight:bold; }
        .page { display:none; }
        .card {
            background:white; padding:15px; margin:15px;
            border-radius:12px; box-shadow:0 2px 4px rgba(0,0,0,.1);
        }
    </style>
</head>

<body>

<!-- ========================== -->
<!--      PRO MODE BAR          -->
<!-- ========================== -->
<div class="card" style="background:#2d6a1f; color:white;">
    <h3>üî• PRO MODE –∞–∫—Ç–∏–≤–Ω–∏–π</h3>
    <p id="statusBar">–°—Ç–∞—Ç—É—Å: offline</p>

    <button id="saveLocal">üíæ –ó–±–µ—Ä–µ–≥—Ç–∏ –ª–æ–∫–∞–ª—å–Ω–æ</button>
    <button id="backupDrive">‚òÅ –†–µ–∑–µ—Ä–≤–Ω–∞ –∫–æ–ø—ñ—è Drive</button>
    <button id="restoreDrive">üîÑ –í—ñ–¥–Ω–æ–≤–∏—Ç–∏ —ñ–∑ Drive</button>
</div>


<!-- ========================== -->
<!--       –ù–ê–í–Ü–ì–ê–¶–Ü–Ø            -->
<!-- ========================== -->
<div class="tabs">
    <div class="tab active" onclick="showPage('feed')">–ö–æ—Ä–º</div>
    <div class="tab" onclick="showPage('eggs')">–Ø–π—Ü—è</div>
    <div class="tab" onclick="showPage('orders')">–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è</div>
    <div class="tab" onclick="showPage('clients')">–ö–ª—ñ—î–Ω—Ç–∏</div>
    <div class="tab" onclick="showPage('finance')">–§—ñ–Ω–∞–Ω—Å–∏</div>
    <div class="tab" onclick="showPage('incub')">–Ü–Ω–∫—É–±–∞—Ü—ñ—è</div>
    <div class="tab" onclick="showPage('flock')">–ü–æ–≥–æ–ª—ñ–≤‚Äô—è</div>
    <div class="tab" onclick="showPage('logs')">–õ–æ–≥–∏</div>
</div>


<!-- ========================== -->
<!--         1. –ö–û–†–ú            -->
<!-- ========================== -->
<div id="feed" class="page" style="display:block;">

    <div class="card">
        <h2>–ö–æ–º–±—ñ–∫–æ—Ä–º</h2>

        <label>–ë–∞–∂–∞–Ω–∞ –≤–∞–≥–∞ –ø–∞—Ä—Ç—ñ—ó (–∫–≥):</label>
        <input id="targetKg" type="number" value="25" oninput="recalcFeed()">

        <div>
            <button onclick="applyRecipePreset('starter')">–°—Ç–∞—Ä—Ç–µ—Ä</button>
            <button onclick="applyRecipePreset('grower')">–ì—Ä–æ–≤–µ—Ä</button>
            <button onclick="applyRecipePreset('layer')">–ù–µ—Å—É—á–∫–∏</button>
        </div>

        <table class="m3-table">
            <thead><tr><th>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç</th><th>–ö–≥</th><th>–¶—ñ–Ω–∞</th><th>–°—É–º–∞</th></tr></thead>
            <tbody id="feedRows"></tbody>
        </table>

        <p>–í–∞–≥–∞: <b id="feedTotalKg">0</b> –∫–≥</p>
        <p>–í–∞—Ä—Ç—ñ—Å—Ç—å: <b id="feedTotalCost">0</b> –≥—Ä–Ω</p>
    </div>

    <div class="card">
        <h2>–î–æ–±–æ–≤–∞ –Ω–æ—Ä–º–∞</h2>
        <label>–ì/–ø—Ç–∏—Ü—é:</label><input id="dailyNormInput" type="number" value="30" oninput="recalcDailyFeed()">
        <label>–ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø—Ç–∞—Ö—ñ–≤:</label><input id="birdCountInput" type="number" value="0" oninput="recalcDailyFeed()">

        <p>–ü–æ—Ç—Ä–µ–±–∞: <span id="dailyNeedKg">0</span> –∫–≥</p>
        <p>–¶—ñ–Ω–∞: <span id="dailyCost">0</span> –≥—Ä–Ω</p>
    </div>

    <div class="card">
        <h2>–ó–∞–ø–∞—Å–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤</h2>
        <table>
            <tbody id="componentStockTable"></tbody>
        </table>
    </div>

    <div class="card">
        <h2>–ì–æ—Ç–æ–≤–∏–π –∫–æ—Ä–º</h2>

        <p>–ì–æ—Ç–æ–≤–æ: <span id="readyFeed">0</span> –∫–≥</p>

        <label>–í–∞–≥–∞ –ø–∞—Ä—Ç—ñ—ó:</label>
        <input id="batchSizeInput" type="number" value="25">

        <button id="makeFeedBtn">–í–∏–≥–æ—Ç–æ–≤–∏—Ç–∏ –ø–∞—Ä—Ç—ñ—é</button>
        <button id="consumeDailyBtn">–°–ø–∏—Å–∞—Ç–∏ –¥–æ–±–æ–≤—É –Ω–æ—Ä–º—É</button>

        <p>–ó–∞–ª–∏—à–æ–∫: <span id="feedLeft">0</span> –∫–≥</p>
        <p>–ù–∞ –¥–Ω—ñ–≤: <span id="daysLeft">0</span></p>
    </div>

    <div class="card">
        <h2>–ú–µ–Ω—ñ —Ç—Ä–µ–±–∞ –∫—É–ø–∏—Ç–∏</h2>
        <ul id="buySummary"></ul>
    </div>

</div>


<!-- ========================== -->
<!--          2. –Ø–ô–¶–Ø           -->
<!-- ========================== -->
<div id="eggs" class="page">

    <div class="card">
        <h2>–û–±–ª—ñ–∫ —è—î—Ü—å</h2>

        <label>–ó—ñ–±—Ä–∞–Ω–æ:</label><input id="eggsTotal" type="number" oninput="updateEggs()">
        <label>–ë—Ä–∞–∫:</label><input id="eggsBad" type="number" oninput="updateEggs()">
        <label>–í–ª–∞—Å–Ω—ñ –ø–æ—Ç—Ä–µ–±–∏:</label><input id="eggsOwn" type="number" oninput="updateEggs()">
        <label>–ó–∞–ª–∏—à–æ–∫ –∑ —É—á–æ—Ä–∞:</label><input id="eggsCarry" type="number" oninput="updateEggs()">

        <table>
            <tr><td>–î–ª—è –ø—Ä–æ–¥–∞–∂—É</td><td id="eggsForSale">0</td></tr>
            <tr><td>–ó–∞–≥–∞–ª—å–Ω–∏–π –∑–∞–ª–∏—à–æ–∫</td><td id="eggsForSaleTotal">0</td></tr>
            <tr><td>–õ–æ—Ç–∫—ñ–≤</td><td id="traysCount">0</td></tr>
            <tr><td>–ó–∞–ª–∏—à–æ–∫</td><td id="eggsRemainder">0</td></tr>
        </table>
    </div>

    <div class="card">
        <h2>–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å</h2>

        <label>–°–∞–º–æ–∫ –ø–∞—Ä—Ç—ñ—è 1:</label><input id="hens1" type="number" oninput="updateEggs()">
        <label>–°–∞–º–æ–∫ –ø–∞—Ä—Ç—ñ—è 2:</label><input id="hens2" type="number" oninput="updateEggs()">

        <table>
            <tr><td>–í—Å—å–æ–≥–æ —Å–∞–º–æ–∫</td><td id="hensTotal">0</td></tr>
            <tr><td>–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å %</td><td id="productivityToday">0</td></tr>
        </table>
    </div>

</div>


<!-- ========================== -->
<!--      3. –ó–ê–ú–û–í–õ–ï–ù–ù–Ø         -->
<!-- ========================== -->
<div id="orders" class="page">

    <div class="card">
        <h2>–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è</h2>

        <label>–ö–ª—ñ—î–Ω—Ç:</label><input id="ordName">
        <label>–õ–æ—Ç–∫—ñ–≤:</label><input id="ordTrays" type="number">
        <label>–î–∞—Ç–∞:</label><input id="ordDate" type="date">
        <label>–ü—Ä–∏–º—ñ—Ç–∫–∞:</label><input id="ordNote">

        <button onclick="addOrder()">–î–æ–¥–∞—Ç–∏</button>

        <h3>–ê–∫—Ç–∏–≤–Ω—ñ</h3>
        <table><tbody id="ordersActive"></tbody></table>

        <h3>–í–∏–∫–æ–Ω–∞–Ω—ñ</h3>
        <table><tbody id="ordersDone"></tbody></table>
    </div>

</div>


<!-- ========================== -->
<!--         4. –ö–õ–Ü–Ñ–ù–¢–ò         -->
<!-- ========================== -->
<div id="clients" class="page">

    <div class="card">
        <h2>–ö–ª—ñ—î–Ω—Ç–∏</h2>
        <table>
            <tbody id="clientsBody"></tbody>
        </table>
    </div>

</div>


<!-- ========================== -->
<!--         5. –§–Ü–ù–ê–ù–°–ò         -->
<!-- ========================== -->
<div id="finance" class="page">

    <div class="card">
        <h2>–§—ñ–Ω–∞–Ω—Å–∏</h2>

        <table>
            <tr><td>–ö–æ—Ä–º</td><td id="summaryFeedCost">0</td></tr>
            <tr><td>–í–∏—Ä—É—á–∫–∞</td><td id="summaryEggIncome">0</td></tr>
            <tr><td>–ü—Ä–∏–±—É—Ç–æ–∫</td><td id="summaryProfit">0</td></tr>
        </table>

    </div>

</div>


<!-- ========================== -->
<!--       6. –Ü–ù–ö–£–ë–ê–¶–Ü–Ø         -->
<!-- ========================== -->
<div id="incub" class="page">

    <div class="card">
        <h2>–Ü–Ω–∫—É–±–∞—Ü—ñ—è</h2>

        <label>–ù–∞–∑–≤–∞ –ø–∞—Ä—Ç—ñ—ó:</label><input id="incBatchName">
        <label>–î–∞—Ç–∞:</label><input id="incStartDate" type="date">
        <label>–ö—ñ–ª—å–∫—ñ—Å—Ç—å —è—î—Ü—å:</label><input id="incEggsSet" type="number">
        <label>–ü—Ä–∏–º—ñ—Ç–∫–∞:</label><textarea id="incNote"></textarea>

        <button id="addIncubation">–î–æ–¥–∞—Ç–∏</button>

        <table>
            <tbody id="incubationBody"></tbody>
        </table>
    </div>

</div>


<!-- ========================== -->
<!--       7. –ü–û–ì–û–õ–Ü–í‚Äô–Ø         -->
<!-- ========================== -->
<div id="flock" class="page">

    <div class="card">
        <h2>–ü–æ–≥–æ–ª—ñ–≤‚Äô—è</h2>

        <label>–°–∞–º—Ü—ñ–≤:</label><input id="males" type="number" oninput="updateFlock()">
        <label>–°–∞–º–æ–∫:</label><input id="females" type="number" oninput="updateFlock()">
        <label>–°–º–µ—Ä—Ç–Ω—ñ—Å—Ç—å:</label><input id="deaths" type="number" oninput="updateFlock()">

        <p>–†–∞–∑–æ–º: <span id="flockTotal">0</span></p>
    </div>

</div>


<!-- ========================== -->
<!--        8. –õ–û–ì–ò             -->
<!-- ========================== -->
<div id="logs" class="page">

    <div class="card">
        <h2>–õ–æ–≥–∏ –≤–∏—Ç—Ä–∞—Ç</h2>

        <table>
            <tbody id="logBody"></tbody>
        </table>

    </div>

</div>


<!-- ========================== -->
<!--  GOOGLE SCRIPTS            -->
<!-- ========================== -->
<script src="https://apis.google.com/js/api.js"></script>
<script src="https://accounts.google.com/gsi/client"></script>

<!-- CORE -->
<script src="core/data.js"></script>
<script src="core/storage.js"></script>
<script src="core/sync.js"></script>
<script src="core/pwa.js"></script>
<script src="core/drive.js"></script>

<!-- MODULES -->
<script src="modules/feed.js"></script>
<script src="modules/eggs.js"></script>
<script src="modules/orders.js"></script>
<script src="modules/clients.js"></script>
<script src="modules/finance.js"></script>
<script src="modules/incub.js"></script>
<script src="modules/flock.js"></script>
<script src="modules/logs.js"></script>
<script src="modules/render.js"></script>

<!-- MAIN -->
<script src="app.js"></script>

<script>
if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("service-worker.js");
}
</script>

</body>
</html>