<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quail Calculator ‚Äî PRO MODE</title>

    <!-- PWA -->
    <link rel="manifest" href="manifest.webmanifest">

    <!-- Material 3 styles (–º–æ–∂–µ—à –¥–æ–¥–∞—Ç–∏ —Å–≤—ñ–π —Ñ–∞–π–ª) -->
    <link rel="stylesheet" href="material.css">

    <style>
        body { margin:0; background:#f5f5f5; font-family:Arial; }

        /* PRO BAR */
        #probar {
            background:#2d6a1f;
            color:white;
            padding:10px;
            text-align:center;
        }
        #probar button {
            background:#d6ffb9;
            border:none;
            padding:8px 14px;
            border-radius:8px;
            margin:4px;
        }

        /* –¢–ê–ë–ò */
        .m3-tabs {
            display:flex;
            background:#e8e8e8;
            border-bottom:1px solid #bbb;
        }
        .m3-tab {
            flex:1;
            padding:12px;
            text-align:center;
            cursor:pointer;
            font-weight:bold;
        }
        .m3-tab.active {
            background:#d7f7c9;
            border-bottom:3px solid #2d6a1f;
        }

        .section-page {
            display:none;
            padding-bottom:50px;
        }

        .m3-card {
            background:white;
            margin:14px;
            padding:16px;
            border-radius:12px;
            box-shadow:0 2px 4px rgba(0,0,0,0.1);
        }

        table { width:100%; border-collapse:collapse; }
        th,td { padding:6px; border-bottom:1px solid #ddd; }
    </style>

</head>

<body>

<!-- ================================================= -->
<!--                   PRO MODE PANEL                  -->
<!-- ================================================= -->
<div id="probar">
    <div>üî• <b>PRO MODE –∞–∫—Ç–∏–≤–Ω–∏–π</b></div>
    <div id="statusBar">–°—Ç–∞—Ç—É—Å: offline</div>

    <button id="saveLocal">üíæ –ó–±–µ—Ä–µ–≥—Ç–∏ –ª–æ–∫–∞–ª—å–Ω–æ</button>
    <button id="backupDrive">‚òÅ –†–µ–∑–µ—Ä–≤–Ω–∞ –∫–æ–ø—ñ—è —É Drive</button>
    <button id="restoreDrive">üîÑ –í—ñ–¥–Ω–æ–≤–∏—Ç–∏ —ñ–∑ Drive</button>
</div>

<!-- ================================================= -->
<!--                      –ù–ê–í–Ü–ì–ê–¶–Ü–Ø                    -->
<!-- ================================================= -->
<div class="m3-tabs">
    <div class="m3-tab active" onclick="showPage('feed')">–ö–æ—Ä–º</div>
    <div class="m3-tab" onclick="showPage('eggs')">–Ø–π—Ü—è</div>
    <div class="m3-tab" onclick="showPage('orders')">–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è</div>
    <div class="m3-tab" onclick="showPage('clients')">–ö–ª—ñ—î–Ω—Ç–∏</div>
    <div class="m3-tab" onclick="showPage('finance')">–§—ñ–Ω–∞–Ω—Å–∏</div>
    <div class="m3-tab" onclick="showPage('incub')">–Ü–Ω–∫—É–±–∞—Ü—ñ—è</div>
    <div class="m3-tab" onclick="showPage('flock')">–ü–æ–≥–æ–ª—ñ–≤‚Äô—è</div>
    <div class="m3-tab" onclick="showPage('logs')">–õ–æ–≥–∏</div>
</div>

<!-- ================================================= -->
<!--                     1. FEED                       -->
<!-- ================================================= -->
<div id="feed" class="section-page" style="display:block;">

    <div class="m3-card">
        <h2>–†–µ—Ü–µ–ø—Ç –∫–æ–º–±—ñ–∫–æ—Ä–º—É</h2>

        <label>–í–∞–≥–∞ –ø–∞—Ä—Ç—ñ—ó (–∫–≥)</label>
        <input id="feedBatchKg" type="number" value="25">

        <table class="m3-table">
    <thead>
        <tr>
            <th>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç</th>
            <th>%</th>
            <th>–ö–≥</th>
            <th>–¶—ñ–Ω–∞ / –∫–≥</th>
            <th>–°—É–º–∞</th>
        </tr>
    </thead>
    <tbody id="feedRows"></tbody>
</table>

<p><b>–ó–∞–≥–∞–ª—å–Ω–∞ –≤–∞–≥–∞:</b> <span id="feedTotalKg">0</span> –∫–≥</p>
<p><b>–ó–∞–≥–∞–ª—å–Ω–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å:</b> <span id="feedTotalCost">0</span> –≥—Ä–Ω</p>
<p><b>–°–µ—Ä–µ–¥–Ω—è —Ü—ñ–Ω–∞ 1 –∫–≥:</b> <span id="feedAvgCost">0</span> –≥—Ä–Ω</p>

        <p><b>–°–µ—Ä–µ–¥–Ω—è —Ü—ñ–Ω–∞ 1 –∫–≥:</b> <span id="feedAvgCost">0.00</span> –≥—Ä–Ω</p>
    </div>

    <div class="m3-card">
        <h2>–î–æ–±–æ–≤–∞ –Ω–æ—Ä–º–∞</h2>
        <label>–ì—Ä–∞–º –Ω–∞ –ø—Ç–∏—Ü—é</label>
        <input id="feedDailyPerHen" type="number" value="30">

        <p>–î–æ–±–æ–≤–∞ –ø–æ—Ç—Ä–µ–±–∞: <b id="feedDailyKg">0</b> –∫–≥</p>
    </div>

    <div class="m3-card">
        <h2>–ü–∞—Ä—Ç—ñ—è –∫–æ–º–±—ñ–∫–æ—Ä–º—É</h2>
        <label>–í–∏–≥–æ—Ç–æ–≤–∏—Ç–∏ (–∫–≥)</label>
        <input id="feedBatchSize" type="number" value="25">
        <button id="produceFeedBatch">–í–∏–≥–æ—Ç–æ–≤–∏—Ç–∏</button>
        <button id="consumeDailyFeed">–°–ø–∏—Å–∞—Ç–∏ –¥–æ–±–æ–≤—É –Ω–æ—Ä–º—É</button>

        <p>–ó–∞–ª–∏—à–æ–∫ –∫–æ–º–±—ñ–∫–æ—Ä–º—É: <b id="feedStockRemain">0</b> –∫–≥</p>
        <p>–•–≤–∞—Ç–∏—Ç—å –Ω–∞: <b id="feedDaysLeft">0</b> –¥–Ω—ñ–≤</p>
    </div>

    <div class="m3-card">
        <h2>–ó–∞–ø–∞—Å–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤</h2>
        <table>
            <thead><tr><th>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç</th><th>–Ñ</th><th>–ü–æ—Ç—Ä—ñ–±–Ω–æ</th><th>–°—Ç–∞—Ç—É—Å</th></tr></thead>
            <tbody id="stockRows"></tbody>
        </table>
    </div>
</div>

<!-- ================================================= -->
<!--                2. EGGS MODULE                     -->
<!-- ================================================= -->
<div id="eggs" class="section-page">
    <div class="m3-card">
        <h2>–û–±–ª—ñ–∫ —è—î—Ü—å</h2>

        <p>–ó—ñ–±—Ä–∞–Ω–æ: <input id="eggsTotal" type="number"></p>
        <p>–ë—Ä–∞–∫: <input id="eggsBad" type="number"></p>
        <p>–°–≤–æ—ó –ø–æ—Ç—Ä–µ–±–∏: <input id="eggsOwn" type="number"></p>
        <p>–ó–∞–ª–∏—à–æ–∫ –∑ —É—á–æ—Ä–∞: <input id="eggsCarry" type="number"></p>

        <h3>–ü—ñ–¥—Å—É–º–æ–∫</h3>
        <table>
            <tr><td>–î–ª—è –ø—Ä–æ–¥–∞–∂—É</td><td id="eggsForSale">0</td></tr>
            <tr><td>–õ–æ—Ç–∫—ñ–≤</td><td id="traysCount">0</td></tr>
            <tr><td>–í—ñ–ª—å–Ω—ñ</td><td id="freeTrays">0</td></tr>
        </table>
    </div>
</div>

<!-- ================================================= -->
<!--                     ORDERS MODULE                  -->
<!-- ================================================= -->
<div id="orders" class="section-page">
    <div class="m3-card">
        <h2>–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è</h2>

        <label>–ö–ª—ñ—î–Ω—Ç</label><input id="ordName">
        <label>–Ø—î—Ü—å</label><input id="ordEggs" type="number">
        <label>–õ–æ—Ç–∫—ñ–≤</label><input id="ordTrays" type="number">
        <label>–î–∞—Ç–∞</label><input id="ordDate" type="date">
        <label>–ü—Ä–∏–º—ñ—Ç–∫–∞</label><input id="ordNote">

        <button onclick="addOrder()">–î–æ–¥–∞—Ç–∏</button>

        <h3>–ê–∫—Ç–∏–≤–Ω—ñ</h3>
        <table><tbody id="ordersActive"></tbody></table>

        <h3>–í–∏–∫–æ–Ω–∞–Ω—ñ</h3>
        <table><tbody id="ordersDone"></tbody></table>
    </div>
</div>

<!-- ================================================= -->
<!--                      CLIENTS                       -->
<!-- ================================================= -->
<div id="clients" class="section-page">
    <div class="m3-card">
        <h2>–ö–ª—ñ—î–Ω—Ç–∏</h2>
        <table>
            <thead>
                <tr><th>–ö–ª—ñ—î–Ω—Ç</th><th>–ó–∞–º–æ–≤–ª–µ–Ω—å</th><th>–õ–æ—Ç–∫—ñ–≤</th><th>–°—É–º–∞</th><th>–û—Å—Ç–∞–Ω–Ω—î</th></tr>
            </thead>
            <tbody id="clientsBody"></tbody>
        </table>
    </div>
</div>

<!-- ================================================= -->
<!--                     FINANCE                        -->
<!-- ================================================= -->
<div id="finance" class="section-page">
    <div class="m3-card">
        <h2>–§—ñ–Ω–∞–Ω—Å–∏</h2>
        <table>
            <tr><td>–í–∏—Ä—É—á–∫–∞</td><td id="summaryEggIncome">0</td></tr>
            <tr><td>–í–∏—Ç—Ä–∞—Ç–∏</td><td id="summaryFeedCost">0</td></tr>
            <tr><td>–ü—Ä–∏–±—É—Ç–æ–∫</td><td id="summaryProfit">0</td></tr>
        </table>
    </div>
</div>

<!-- ================================================= -->
<!--                     INCUBATION                     -->
<!-- ================================================= -->
<div id="incub" class="section-page">
    <div class="m3-card">
        <h2>–Ü–Ω–∫—É–±–∞—Ü—ñ—è</h2>
        <p>–ù–∞–∑–≤–∞: <input id="incBatchName"></p>
        <p>–î–∞—Ç–∞: <input id="incStartDate" type="date"></p>
        <p>–Ø—î—Ü—å: <input id="incEggsSet" type="number"></p>
        <button id="addIncubation">–î–æ–¥–∞—Ç–∏</button>

        <table>
            <thead>
                <tr><th>–ü–∞—Ä—Ç—ñ—è</th><th>–î–∞—Ç–∞</th><th>–î–Ω—ñ–≤</th><th>–ó–∞–∫–ª–∞–¥–µ–Ω–æ</th><th>–í–∏–ª—É–ø.</th></tr>
            </thead>
            <tbody id="incubationBody"></tbody>
        </table>
    </div>
</div>

<!-- ================================================= -->
<!--                     FLOCK MODULE                   -->
<!-- ================================================= -->
<div id="flock" class="section-page">
    <div class="m3-card">
        <h2>–ü–æ–≥–æ–ª—ñ–≤‚Äô—è</h2>

        –°–∞–º—Ü—ñ–≤: <input id="males" type="number">
        –°–∞–º–æ–∫: <input id="females" type="number">
        –°–º–µ—Ä—Ç–Ω—ñ—Å—Ç—å: <input id="deaths" type="number">

        <p>–†–∞–∑–æ–º: <b id="flockTotal">0</b></p>
    </div>
</div>

<!-- ================================================= -->
<!--                     LOGS MODULE                    -->
<!-- ================================================= -->
<div id="logs" class="section-page">
    <div class="m3-card">
        <h2>–õ–æ–≥–∏ –≤–∏—Ç—Ä–∞—Ç</h2>

        <label>–ö–∞—Ç–µ–≥–æ—Ä—ñ—è</label><input id="logCategory">
        <label>–°—É–º–∞</label><input id="logAmount" type="number">
        <label>–ö–æ–º–µ–Ω—Ç–∞—Ä</label><input id="logComment">

        <button onclick="addLog()">–î–æ–¥–∞—Ç–∏</button>

        <table>
            <thead><tr><th>–î–∞—Ç–∞</th><th>–ö–∞—Ç–µ–≥–æ—Ä—ñ—è</th><th>–°—É–º–∞</th><th>–ö–æ–º–µ–Ω—Ç–∞—Ä</th><th></th></tr></thead>
            <tbody id="logBody"></tbody>
        </table>
    </div>
</div>

<!-- ================================================= -->
<!--         GOOGLE / PWA SCRIPTS + MODULES            -->
<!-- ================================================= -->

<script src="core/data.js"></script>
<script src="core/storage.js"></script>
<script src="core/sync.js"></script>
<script src="core/drive.js"></script>
<script src="core/pwa.js"></script>

<script src="modules/render.js"></script>
<script src="modules/feed.js"></script>
<script src="modules/eggs.js"></script>
<script src="modules/orders.js"></script>
<script src="modules/clients.js"></script>
<script src="modules/finance.js"></script>
<script src="modules/incub.js"></script>
<script src="modules/flock.js"></script>
<script src="modules/logs.js"></script>

<script src="app.js"></script>

<script>
    // PWA Service Worker
    if ("serviceWorker" in navigator) {
        navigator.serviceWorker.register("service-worker.js");
    }

    // –ü–æ–∫–∞–∑ —Å–µ–∫—Ü—ñ–π
    function showPage(id) {
        document.querySelectorAll(".section-page").forEach(x => x.style.display="none");
        document.getElementById(id).style.display="block";

        document.querySelectorAll(".m3-tab").forEach(x => x.classList.remove("active"));
        event.target.classList.add("active");
    }
</script>

</body>
</html>